
name: Mi Flujo de Trabajo

on:
  push:
    branches:
      - main
  workflow_dispatch: # Trigger para permitir la ejecuci√≥n manual
    inputs:
      target_repository: # Input para especificar el repositorio de destino
        description: 'Repositorio de destino duvanquind/Calculator-java'
        required: true
        default: 'duvanquind/Calculator-java'

jobs:
  mi_trabajo:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repositorio de Destino
        uses: actions/checkout@v2
        with:
          repository: ${{ github.event.inputs.target_repository }} # Usa el valor ingresado en el input
      - name: repo
        run: echo ${{ github.repository }}

      - name: Ejecutar Workflow en Repositorio Clonado
        uses: octokit/request-action@v2.x
        with:
          route: POST /repos/:repository/dispatches
          repository: ${{ github.event.repository.full_name }}
          token: ${{ secrets.ACCESS_TOKEN }} # Reemplaza "ACCESS_TOKEN" con un token de acceso con los permisos adecuados para el repositorio clonado.
          event_type: "nombre_del_evento" 
